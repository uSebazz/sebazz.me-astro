---
import ToggleTheme from "./ToggleTheme.astro";
---

<nav
  class="border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-800 dark:text-gray-100"
>
  <div
    class="mx-auto flex max-w-screen-xl flex-wrap items-center justify-between p-4"
  >
    <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="/dyno.png" alt="Dynologo" class="h-10" />
    </a>
    <button
      type="button"
      class="inline-flex h-10 w-10 rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:ring-2 focus:ring-gray-200 focus:outline-none md:hidden dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
      aria-controls="navbar-solid-bg"
      aria-expanded="false"
      id="navbar-solid-trigger"
    >
      <span class="sr-only">Open main menu</span>
      <svg
        class="h-5 w-5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 17 14"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 1h15M1 7h15M1 13h15"></path>
      </svg>
    </button>
    <div class="hidden w-full md:block md:w-auto" id="navbar-solid-bg">
      <ul
        class="mt-4 flex flex-col rounded-lg bg-gray-50 font-medium md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-transparent rtl:space-x-reverse dark:border-gray-700 dark:bg-gray-800 md:dark:bg-transparent"
      >
        <li>
          <a
            href="/about"
            class="block rounded-sm px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-blue-500"
            >About</a
          >
        </li>
        <li>
          <a
            href="/projects"
            class="block rounded-sm px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-blue-500"
            >Projects</a
          >
        </li>
        <li>
          <a
            href="/contact"
            class="block rounded-sm px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-blue-500"
            >Contact</a
          >
        </li>
        <li class="flex items-center">
          <ToggleTheme />
        </li>
      </ul>
    </div>
  </div>

  <script>
    import { Collapse } from "flowbite";
    import type { CollapseInterface } from "flowbite";

    // set the target element that will be collapsed or expanded (eg. navbar menu)
    const $targetEl: HTMLElement | null =
      document.getElementById("navbar-solid-bg");
    if (!$targetEl) {
      throw new Error(
        "Trigger element with ID 'navbar-solid-trigger' not found.",
      );
    }
    // optionally set a trigger element (eg. a button, hamburger icon)
    const $triggerEl = document.getElementById(
      "navbar-solid-trigger",
    ) as HTMLElement | null;
    if (!$triggerEl) {
      throw new Error(
        "Trigger element with ID 'navbar-solid-trigger' not found.",
      );
    }
    const collapse: CollapseInterface = new Collapse($targetEl, $triggerEl);
    collapse.expand();
  </script>
</nav>
